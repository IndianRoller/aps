DROP TABLE AS_ORDER
DROP TABLE AS_PRODUCT
DROP TABLE AS_USER_LOCATION
DROP TABLE AS_LOCATION 
DROP TABLE AS_ROLE_MENU  
DROP TABLE AS_MENU 
DROP TABLE AS_USER 
DROP TABLE AS_ROLE   
Go

 CREATE TABLE AS_ROLE ( 
	ROLE_ID INTEGER, 
	ROLE_NAME VARCHAR2(40),
	ROLE_DESC VARCHAR2(100),
	CONSTRAINT PK_ROLE PRIMARY KEY (ROLE_ID) , 
 	CONSTRAINT UK_ROLE_ROLENAME UNIQUE (ROLE_NAME)
)
Go

CREATE TABLE AS_USER  ( 
	USER_ID INTEGER, 
	USER_NAME VARCHAR2(40),
	USER_PASSWORD VARCHAR2(40), 
	ROLE_ID INTEGER ,
	CONSTRAINT PK_USER PRIMARY KEY (USER_ID) , 
	CONSTRAINT FK_USER_ROLEID FOREIGN KEY (ROLE_ID) REFERENCES AS_ROLE(ROLE_ID),
	CONSTRAINT UK_USER_NAME UNIQUE (USER_NAME)
)
Go

CREATE TABLE AS_MENU  ( 
	MENU_ID INTEGER, 
	MENU_NAME VARCHAR2(40),
	MENU_URL VARCHAR2(100), 
	CONSTRAINT PK_MENU PRIMARY KEY (MENU_ID) , 
 	CONSTRAINT UK_MENU_NAME UNIQUE (MENU_NAME)
)
Go

 CREATE TABLE AS_ROLE_MENU  ( 
	ROLEMENU_ID INTEGER, 
	ROLE_ID INTEGER,
	MENU_ID INTEGER,
	ADD_ALLOWED CHAR(1),
	MODIFY_ALLOWED CHAR(1),
	VIEW_ALLOWED CHAR(1),
	DELETE_ALLOWED CHAR(1),
	CONSTRAINT PK_MENUROLE PRIMARY KEY (ROLEMENU_ID) , 
	CONSTRAINT FK_MENUROLE_ROLEID FOREIGN KEY (ROLE_ID) REFERENCES AS_ROLE(ROLE_ID),
	CONSTRAINT FK_MENUROLE_MENUID FOREIGN KEY (MENU_ID) REFERENCES AS_MENU(MENU_ID)
)
Go


CREATE TABLE AS_LOCATION(
	LOCATION_ID INTEGER, 
	LOCATION_NAME VARCHAR2(40), 
	ADDRESS_LINE1 VARCHAR2(100), 
	ADDRESS_LINE2 VARCHAR2(100),
	CITY VARCHAR2(40) ,
	CONSTRAINT PK_LOCATION PRIMARY KEY (LOCATION_ID)
 )
 Go
 
 CREATE TABLE AS_USER_LOCATION(
	USERLOC_ID INTEGER,
	USER_ID   INTEGER,
	LOCATION_ID INTEGER, 
	LOCATION_NAME VARCHAR2(40), 
 	CONSTRAINT PK_USER_LOCATION PRIMARY KEY (USERLOC_ID) , 
 	CONSTRAINT FK_USERLOC_USERID FOREIGN KEY (USER_ID) REFERENCES AS_USER(USER_ID),
    CONSTRAINT FK_USERLOC_LOCATIONID FOREIGN KEY (LOCATION_ID) REFERENCES AS_LOCATION(LOCATION_ID),
 )


CREATE TABLE AS_PRODUCT( 
	PRODUCT_ID INTEGER, 
	PRODUCT_NAME VARCHAR2(40), 
	PRODUCT_DESC VARCHAR2(100),
	RATE DECIMAL(10,2),
	MFD_BY INTEGER,
 	CONSTRAINT PK_PRODUCT PRIMARY KEY (PRODUCT_ID) , 
 	CONSTRAINT UK_PRODUCT_NAME UNIQUE (PRODUCT_NAME),
 	CONSTRAINT FK_PRODUCT_MFDBY FOREIGN KEY (MFD_BY) REFERENCES AS_USER(USER_ID)
)
Go

CREATE TABLE AS_ORDER(
    ORDER_ID INTEGER,
	PRODUCT_ID INTEGER, 
	QUANTITY INTEGER, 
	ORDERED_BY INTEGER,
	ORDER_DATE DATE,
	DELIVERY_LOCATION INTEGER,
	PROD_PICKUP_DATE DATE,
	WHS_REACH_DATE DATE,
	WHS_PICKUP_DATE DATE,
	DELIVERY_DATE DATE,
	RECEIVED_BY VARCHAR2(40),
	ORDER_STATUS VARCHAR2(40), 
	CONSTRAINT PK_ORDER PRIMARY KEY (ORDER_ID),
    CONSTRAINT FK_ORDER_PRID FOREIGN KEY (ORDERED_BY) REFERENCES AS_USER(USER_ID),
    CONSTRAINT FK_ORDER_DELLOC FOREIGN KEY (DELIVERY_LOCATION) REFERENCES AS_LOCATION(LOCATION_ID)
)
Go

 
-- seed data

-- AS_ROLE
INSERT INTO AS_ROLE (ROLE_ID , ROLE_NAME , ROLE_DESC ) VALUES (1,'ADMIN','ADMIN ROLE' )  
INSERT INTO AS_ROLE (ROLE_ID , ROLE_NAME , ROLE_DESC ) VALUES (2,'CUSTOMER','CUSTOMER ROLE' ) 
INSERT INTO AS_ROLE (ROLE_ID , ROLE_NAME , ROLE_DESC ) VALUES (3,'SHIPPER','SHIPPER ROLE' )
INSERT INTO AS_ROLE (ROLE_ID , ROLE_NAME , ROLE_DESC ) VALUES (4,'MANUFACTURER','MANUFACTURER ROLE') 
Go

-- AS_ROLE
INSERT INTO AS_USER (USER_ID , USER_NAME , USER_PASSWORD, ROLE_ID) VALUES (1,'ADMIN','1', 1 ) 
INSERT INTO AS_USER (USER_ID , USER_NAME , USER_PASSWORD, ROLE_ID) VALUES (2,'CUSTOMER','1', 2 ) 
INSERT INTO AS_USER (USER_ID , USER_NAME , USER_PASSWORD, ROLE_ID) VALUES (3,'SHIPPER','1', 3) 
INSERT INTO AS_USER (USER_ID , USER_NAME , USER_PASSWORD, ROLE_ID) VALUES (4,'MANUFACTURER','1', 4) 
Go


-- AS_MENU
INSERT INTO AS_MENU (MENU_ID, MENU_NAME, MENU_URL) VALUES (1,'ROLES', '/roles.jsp' )  
INSERT INTO AS_MENU (MENU_ID, MENU_NAME, MENU_URL) VALUES (2,'USERS', '/users.jsp' )  
INSERT INTO AS_MENU (MENU_ID, MENU_NAME, MENU_URL) VALUES (3,'MENUS', '/menus.jsp' ) 
INSERT INTO AS_MENU (MENU_ID, MENU_NAME, MENU_URL) VALUES (4,'PRODUCTS', '/products.jsp')
INSERT INTO AS_MENU (MENU_ID, MENU_NAME, MENU_URL) VALUES (5,'ORDER', '/order.jsp')
INSERT INTO AS_MENU (MENU_ID, MENU_NAME, MENU_URL) VALUES (6,'ORDER CONFIRMATION', '/orderConfirmation.jsp')
INSERT INTO AS_MENU (MENU_ID, MENU_NAME, MENU_URL) VALUES (7,'PRODUCT PICKUP', '/productPickUP.jsp')
INSERT INTO AS_MENU (MENU_ID, MENU_NAME, MENU_URL) VALUES (8,'Warehouse Reach', '/warehouseReach.jsp')
INSERT INTO AS_MENU (MENU_ID, MENU_NAME, MENU_URL) VALUES (9,'Warehouse Pickup', '/warehousePickup.jsp')
INSERT INTO AS_MENU (MENU_ID, MENU_NAME, MENU_URL) VALUES (10,'Delivery', '/delivery.jsp')
Go

--AS_ROLE_MENU

-- ADMIN
INSERT INTO AS_ROLE_MENU (ROLEMENU_ID,ROLE_ID,MENU_ID,ADD_ALLOWED,MODIFY_ALLOWED,VIEW_ALLOWED,DELETE_ALLOWED) VALUES (1,1,1,'Y','Y','Y','Y')  
INSERT INTO AS_ROLE_MENU (ROLEMENU_ID,ROLE_ID,MENU_ID,ADD_ALLOWED,MODIFY_ALLOWED,VIEW_ALLOWED,DELETE_ALLOWED) VALUES (2,1,2,'Y','Y','Y','Y')  
INSERT INTO AS_ROLE_MENU (ROLEMENU_ID,ROLE_ID,MENU_ID,ADD_ALLOWED,MODIFY_ALLOWED,VIEW_ALLOWED,DELETE_ALLOWED) VALUES (3,1,3,'Y','Y','Y','Y') 

-- CUSTOMER
INSERT INTO AS_ROLE_MENU (ROLEMENU_ID,ROLE_ID,MENU_ID,ADD_ALLOWED,MODIFY_ALLOWED,VIEW_ALLOWED,DELETE_ALLOWED) VALUES (4,2,4,'Y','Y','Y','Y')  
INSERT INTO AS_ROLE_MENU (ROLEMENU_ID,ROLE_ID,MENU_ID,ADD_ALLOWED,MODIFY_ALLOWED,VIEW_ALLOWED,DELETE_ALLOWED) VALUES (5,2,5,'Y','Y','Y','Y')  
INSERT INTO AS_ROLE_MENU (ROLEMENU_ID,ROLE_ID,MENU_ID,ADD_ALLOWED,MODIFY_ALLOWED,VIEW_ALLOWED,DELETE_ALLOWED) VALUES (6,2,6,'Y','Y','Y','Y') 
INSERT INTO AS_ROLE_MENU (ROLEMENU_ID,ROLE_ID,MENU_ID,ADD_ALLOWED,MODIFY_ALLOWED,VIEW_ALLOWED,DELETE_ALLOWED) VALUES (7,2,10,'Y','Y','Y','Y')


-- Shipper
INSERT INTO AS_ROLE_MENU (ROLEMENU_ID,ROLE_ID,MENU_ID,ADD_ALLOWED,MODIFY_ALLOWED,VIEW_ALLOWED,DELETE_ALLOWED) VALUES (8,3,4,'Y','Y','Y','Y')  
INSERT INTO AS_ROLE_MENU (ROLEMENU_ID,ROLE_ID,MENU_ID,ADD_ALLOWED,MODIFY_ALLOWED,VIEW_ALLOWED,DELETE_ALLOWED) VALUES (9,3,5,'Y','Y','Y','Y')  
INSERT INTO AS_ROLE_MENU (ROLEMENU_ID,ROLE_ID,MENU_ID,ADD_ALLOWED,MODIFY_ALLOWED,VIEW_ALLOWED,DELETE_ALLOWED) VALUES (10,3,6,'Y','Y','Y','Y') 
INSERT INTO AS_ROLE_MENU (ROLEMENU_ID,ROLE_ID,MENU_ID,ADD_ALLOWED,MODIFY_ALLOWED,VIEW_ALLOWED,DELETE_ALLOWED) VALUES (11,3,8,'Y','Y','Y','Y') 
INSERT INTO AS_ROLE_MENU (ROLEMENU_ID,ROLE_ID,MENU_ID,ADD_ALLOWED,MODIFY_ALLOWED,VIEW_ALLOWED,DELETE_ALLOWED) VALUES (12,3,9,'Y','Y','Y','Y') 
INSERT INTO AS_ROLE_MENU (ROLEMENU_ID,ROLE_ID,MENU_ID,ADD_ALLOWED,MODIFY_ALLOWED,VIEW_ALLOWED,DELETE_ALLOWED) VALUES (13,3,10,'Y','Y','Y','Y')


-- Man 
INSERT INTO AS_ROLE_MENU (ROLEMENU_ID,ROLE_ID,MENU_ID,ADD_ALLOWED,MODIFY_ALLOWED,VIEW_ALLOWED,DELETE_ALLOWED) VALUES (14,4,4,'Y','Y','Y','Y')  
INSERT INTO AS_ROLE_MENU (ROLEMENU_ID,ROLE_ID,MENU_ID,ADD_ALLOWED,MODIFY_ALLOWED,VIEW_ALLOWED,DELETE_ALLOWED) VALUES (15,4,5,'Y','Y','Y','Y')  
INSERT INTO AS_ROLE_MENU (ROLEMENU_ID,ROLE_ID,MENU_ID,ADD_ALLOWED,MODIFY_ALLOWED,VIEW_ALLOWED,DELETE_ALLOWED) VALUES (16,4,6,'Y','Y','Y','Y') 
INSERT INTO AS_ROLE_MENU (ROLEMENU_ID,ROLE_ID,MENU_ID,ADD_ALLOWED,MODIFY_ALLOWED,VIEW_ALLOWED,DELETE_ALLOWED) VALUES (17,4,10,'Y','Y','Y','Y')




-- SEQ

CREATE SEQUENCE AS_ORDER_SEQ START WITH 1001 ; 
CREATE SEQUENCE AS_PRODUCT_SEQ START WITH 1001 ; 
CREATE SEQUENCE AS_USER_LOCATION_SEQ START WITH 1001 ; 
CREATE SEQUENCE AS_LOCATION_SEQ START WITH 1001 ; 
CREATE SEQUENCE AS_ROLE_MENU_SEQ START WITH 1001 ; 
CREATE SEQUENCE AS_MENU_SEQ START WITH 1001 ; 
CREATE SEQUENCE AS_USER_SEQ START WITH 1001 ; 
CREATE SEQUENCE AS_ROLE_SEQ START WITH 1001 ; 


 